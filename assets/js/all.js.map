{"version":3,"sources":["all.js","list.js","login.js","signup.js"],"names":["list","document","querySelector","inputBlock","inputText","enterBtn","nonList","listBlock","data","getTodo","axios","get","headers","Authorization","localStorage","getItem","then","res","todos","updateList","err","alert","response","window","location","pathname","renderData","arr","str","forEach","item","id","content","setAttribute","innerHTML","removeAll","addEventListener","addToDo","value","post","todo","console","log","obj","check","unshift","e","key","listId","target","closest","dataset","nodeName","preventDefault","message","index","findIndex","splice","i","finish","patch","tab","tabStatus","status","tabs","querySelectorAll","classList","remove","add","undoNum","showData","filter","todoLength","length","clearAll","removeAttribute","loginAccount","getElementById","loginPwd","loginBtn","token","trim","email","password","user","authorization","setItem","assign","accountInput","nickname","pwd","pwdDoubleCheck","signUpBtn","error"],"mappings":"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","file":"all.js","sourcesContent":["\r\n\r\n\r\n","const list = document.querySelector(\".list\");\r\nconst inputBlock = document.querySelector(\".input-block\");\r\nconst inputText = document.querySelector(\".input-text\");\r\nconst enterBtn = document.querySelector(\".enter-btn\");\r\nconst nonList = document.querySelector(\".none-list\");\r\nconst listBlock = document.querySelector(\".list-block\");\r\n\r\nlet data = [];\r\n\r\nfunction getTodo() {\r\n  axios\r\n    .get(\"https://todoo.5xcamp.us/todos\", {\r\n      headers: {\r\n        Authorization: localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n    .then((res) => {\r\n      data = res.data.todos;\r\n      updateList();\r\n    })\r\n    .catch((err) => alert(err.response));\r\n}\r\n\r\nif(window.location.pathname == \"/list.html\"){\r\n  getTodo();\r\n}\r\n\r\n//渲染畫面\r\n\r\nfunction renderData(arr) {\r\n  let str = \"\";\r\n  arr.forEach((item) => {\r\n    str += `<li class=\"d-flex border-bottom py-3\" data-id=\"${item.id}\">\r\n    <label class=\"me-auto checkbox\">\r\n    <input class=\"form-check-input me-3\" type=\"checkbox\">\r\n    <span>${item.content}</span>\r\n    </label>\r\n    <a href=\"#\" class=\"delete\"><img src=\"assets/images/delete.jpg\" alt=\"delete\" class=\"img-fluid delete\"></a>\r\n</li>`;\r\n  });\r\n  nonList.setAttribute(\"class\", \"d-none\");\r\n  listBlock.setAttribute(\"class\", \"d-block\");\r\n  list.innerHTML = str;\r\n  removeAll();\r\n}\r\n\r\n//新增代辦\r\nif (enterBtn) {\r\n  enterBtn.addEventListener(\"click\", addToDo);\r\n}\r\n\r\nfunction addToDo() {\r\n  if (inputText.value === \"\") {\r\n    alert(`請輸入代辦`);\r\n    return;\r\n  }\r\n\r\n  axios\r\n    .post(\r\n      \"https://todoo.5xcamp.us/todos\",\r\n      {\r\n        todo: {\r\n          content: inputText.value,\r\n        },\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: localStorage.getItem(\"token\"),\r\n        },\r\n      }\r\n    )\r\n    .then((res) => {\r\n      getTodo();\r\n    })\r\n    .catch((err) => console.log(err.response));\r\n\r\n  let obj = {};\r\n  obj.content = inputText.value;\r\n  obj.check = \"\";\r\n  data.unshift(obj);\r\n  inputText.value = \"\";\r\n  updateList();\r\n}\r\n//按鈕輸入\r\nif (inputBlock) {\r\n  inputBlock.addEventListener(\"keyup\", function (e) {\r\n    if (e.key === \"Enter\") {\r\n      addToDo();\r\n    }\r\n  });\r\n}\r\n\r\n\r\n// 刪除代辦\r\nif (list) {\r\n  list.addEventListener(\"click\", function (e) {\r\n    let listId = e.target.closest(\"li\").dataset.id;\r\n    if (e.target.nodeName === \"IMG\") {\r\n      e.preventDefault();\r\n\r\n      axios\r\n        .delete(`https://todoo.5xcamp.us/todos/${listId}`, {\r\n          headers: {\r\n            Authorization: localStorage.getItem(\"token\"),\r\n          },\r\n        })\r\n        .then((res) => {\r\n          alert(res.data.message);\r\n        })\r\n        .catch((err) => console.log(err.response));\r\n\r\n      let index = data.findIndex((item) => item.id === listId);\r\n      data.splice(index, 1);\r\n    } else {\r\n      data.forEach((i) => {\r\n        let finish = \"\";\r\n        if (i.id === listId) {\r\n          axios\r\n            .patch(\r\n              `https://todoo.5xcamp.us/todos/${listId}/toggle`,\r\n              {},\r\n              {\r\n                headers: {\r\n                  Authorization: localStorage.getItem(\"token\"),\r\n                },\r\n              }\r\n            )\r\n            .then((res) => {\r\n              console.log(res.data);\r\n            })\r\n            .catch((err) => console.log(err.response));\r\n        }\r\n      });\r\n    }\r\n    updateList();\r\n  });\r\n}\r\n\r\nfunction check(obj) {\r\n  if (obj.check == \"\") {\r\n    obj.check = \"checked\";\r\n  } else {\r\n    obj.check = \"\";\r\n  }\r\n}\r\n\r\n// 切換畫面\r\n\r\nconst tab = document.querySelector(\".tab\");\r\nlet tabStatus = \"all\";\r\nif (tab) {\r\n  tab.addEventListener(\"click\", function (e) {\r\n    tabStatus = e.target.dataset.status;\r\n    let tabs = document.querySelectorAll(\".tab li\");\r\n    tabs.forEach((i) => {\r\n      i.classList.remove(\"tabs-active\");\r\n    });\r\n    e.target.classList.add(\"tabs-active\");\r\n    updateList();\r\n  });\r\n}\r\n\r\nlet undoNum = document.querySelector(\".undo-num\");\r\n\r\nfunction updateList() {\r\n  let showData = [];\r\n  if (tabStatus === \"all\") {\r\n    showData = data;\r\n  } else if (tabStatus === \"undo\") {\r\n    showData = data.filter((i) => i.check === \"\");\r\n  } else if (tabStatus === \"done\") {\r\n    showData = data.filter((i) => i.check === \"checked\");\r\n  }\r\n\r\n  let todoLength = data.filter((i) => i.check === \"\");\r\n  let str = `${todoLength.length} 個待完成項目`;\r\n  undoNum.innerHTML = str;\r\n\r\n  renderData(showData);\r\n}\r\n\r\n// 清除完成項目\r\nconst clearAll = document.querySelector(\".clear-all\");\r\nif (clearAll) {\r\n  clearAll.addEventListener(\"click\", function (e) {\r\n    e.preventDefault();\r\n    data = data.filter((i) => i.check === \"\");\r\n    updateList();\r\n  });\r\n}\r\n\r\nfunction removeAll() {\r\n  if (data.length === 0) {\r\n    listBlock.setAttribute(\"class\", \"d-none\");\r\n    nonList.removeAttribute(\"class\", \"d-none\");\r\n  }\r\n}\r\n","const loginAccount = document.getElementById(\"accountEmail\");\r\nconst loginPwd = document.getElementById(\"login-password\");\r\nconst loginBtn = document.querySelector(\".login\");\r\nlet token = \"\";\r\nif(loginBtn){\r\n  loginBtn.addEventListener(\"click\", function (e) {\r\n    if (loginAccount.value.trim() == \"\" || loginPwd.value.trim() == \"\") {\r\n      alert(`帳號密碼不可空白`);\r\n      return;\r\n    }\r\n  \r\n    let obj = {};\r\n    obj.email = loginAccount.value;\r\n    obj.password = loginPwd.value;\r\n    axios\r\n      .post(\"https://todoo.5xcamp.us/users/sign_in\", {\r\n        user: obj,\r\n      })\r\n      .then((res) => {\r\n        alert(res.data.message);\r\n        token = res.headers.authorization\r\n        localStorage.setItem('token', token)\r\n        window.location.assign(\"list.html\");\r\n      })\r\n      .catch((err) => {\r\n        alert(err.response.data.message);\r\n      });\r\n  });\r\n}\r\n","const accountInput = document.getElementById(\"signupEmail\");\r\nconst nickname = document.getElementById(\"name\");\r\nconst pwd = document.getElementById(\"password\");\r\nconst pwdDoubleCheck = document.getElementById(\"passwordDoubleCheck\");\r\nconst signUpBtn = document.querySelector(\".sign-up\");\r\n\r\nif (signUpBtn) {\r\n  signUpBtn.addEventListener(\"click\", function (e) {\r\n    if (\r\n      accountInput.value.trim() == \"\" ||\r\n      pwd.value.trim() == \"\" ||\r\n      pwdDoubleCheck.value.trim() == \"\"\r\n    ) {\r\n      alert(`帳號密碼不可空白`);\r\n      return;\r\n    }\r\n    if (pwd.value.length < 6) {\r\n      alert(`密碼須超過6個字元`);\r\n      return;\r\n    }\r\n    if (pwd.value !== pwdDoubleCheck.value) {\r\n      alert(`密碼不相符，請再次確認`);\r\n      return;\r\n    }\r\n    let obj = {};\r\n    obj.email = accountInput.value;\r\n    obj.nickname = nickname.value;\r\n    obj.password = pwd.value;\r\n    console.log(obj);\r\n\r\n    axios\r\n      .post(\"https://todoo.5xcamp.us/users\", {\r\n        user: obj,\r\n      })\r\n      .then((res) => {\r\n        alert(res.data.message);\r\n        window.location.assign(\"index.html\");\r\n      })\r\n      .catch((err) => {\r\n        alert(err.response.data.error);\r\n      });\r\n  });\r\n}\r\n"]}
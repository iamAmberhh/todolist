{"version":3,"sources":["all.js","list.js","login.js","signup.js"],"names":["list","document","querySelector","inputBlock","inputText","enterBtn","nonList","listBlock","username","data","getTodo","axios","get","headers","Authorization","localStorage","token","then","res","todos","updateList","err","Swal","fire","response","window","location","pathname","textContent","renderData","arr","str","forEach","item","id","completed_at","content","setAttribute","innerHTML","removeAll","addEventListener","addToDo","value","post","todo","obj","check","unshift","console","log","e","key","listId","target","closest","dataset","checkBtn","nodeName","preventDefault","message","index","findIndex","splice","i","patch","tab","tabStatus","status","tabs","querySelectorAll","classList","remove","add","undoNum","showData","filter","todoLength","length","clearAll","deleteData","removeAttribute","logoutBtn","result","isConfirmed","assign","loginAccount","getElementById","loginPwd","loginBtn","trim","email","password","user","authorization","setItem","loginUser","nickname","accountInput","pwd","pwdDoubleCheck","signUpBtn","error"],"mappings":"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","file":"all.js","sourcesContent":["\r\n\r\n\r\n","const list = document.querySelector(\".list\");\r\nconst inputBlock = document.querySelector(\".input-block\");\r\nconst inputText = document.querySelector(\".input-text\");\r\nconst enterBtn = document.querySelector(\".enter-btn\");\r\nconst nonList = document.querySelector(\".none-list\");\r\nconst listBlock = document.querySelector(\".list-block\");\r\nconst username = document.querySelector('.username');\r\n\r\n\r\nlet data = [];\r\n\r\n\r\nfunction getTodo() {\r\n  axios\r\n    .get(\"https://todoo.5xcamp.us/todos\", {\r\n      headers: {\r\n        Authorization: localStorage.token,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      data = res.data.todos;\r\n      updateList();\r\n    })\r\n    .catch((err) => \r\n    Swal.fire(\r\n      `${err.response}`,\r\n       \"出現了一些錯誤\", \r\n       \"warning\"\r\n       )\r\n    );\r\n}\r\n\r\nif (window.location.pathname == \"/list.html\") {\r\n  getTodo();\r\n  username.textContent = `${localStorage.username}的代辦`;\r\n}\r\n\r\n//渲染畫面\r\nfunction renderData(arr) {\r\n  let str = \"\";\r\n  arr.forEach((item) => {\r\n    str += `<li class=\"d-flex border-bottom py-3\" data-id=\"${item.id}\">\r\n    <label class=\"me-auto checkbox\">\r\n    <input class=\"form-check-input me-3\" type=\"checkbox\" ${\r\n      item.completed_at === null ? \"\" : \"checked\"\r\n    }>\r\n    <span>${item.content}</span>\r\n    </label>\r\n    <a href=\"#\" class=\"delete\"><img src=\"assets/images/delete.jpg\" alt=\"delete\" class=\"img-fluid delete\"></a>\r\n</li>`;\r\n  });\r\n  nonList.setAttribute(\"class\", \"d-none\");\r\n  listBlock.setAttribute(\"class\", \"d-block\");\r\n  list.innerHTML = str;\r\n  removeAll();\r\n}\r\n\r\n//新增代辦\r\nif (enterBtn) {\r\n  enterBtn.addEventListener(\"click\", addToDo);\r\n}\r\n\r\nfunction addToDo() {\r\n  if (inputText.value === \"\") {\r\n    Swal.fire(\r\n      `請輸入代辦`,\r\n       \"代辦空空是不行的\", \r\n       \"warning\"\r\n       )\r\n    return;\r\n  }\r\n\r\n  axios\r\n    .post(\r\n      \"https://todoo.5xcamp.us/todos\",\r\n      {\r\n        todo: {\r\n          content: inputText.value,\r\n        },\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: localStorage.token,\r\n        },\r\n      }\r\n    )\r\n    .then((res) => {\r\n      getTodo();\r\n      let obj = {};\r\n      obj.content = inputText.value;\r\n      obj.check = \"\";\r\n      data.unshift(obj);\r\n      inputText.value = \"\";\r\n      updateList();\r\n    })\r\n    .catch((err) => console.log(err.response));\r\n}\r\n\r\n//按鈕輸入\r\nif (inputBlock) {\r\n  inputBlock.addEventListener(\"keyup\", function (e) {\r\n    if (e.key === \"Enter\") {\r\n      addToDo();\r\n    }\r\n  });\r\n}\r\n\r\n// 刪除&完成代辦\r\nif (list) {\r\n  list.addEventListener(\"click\", function (e) {\r\n    let listId = e.target.closest(\"li\").dataset.id;\r\n    let checkBtn = e.target.closest(\"input\");\r\n    if (e.target.nodeName === \"IMG\") {\r\n      e.preventDefault();\r\n\r\n      axios\r\n        .delete(`https://todoo.5xcamp.us/todos/${listId}`, {\r\n          headers: {\r\n            Authorization: localStorage.token,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          Swal.fire(\r\n            `${res.data.message}`,\r\n             \"太棒啦\", \r\n             \"success\"\r\n             )\r\n        })\r\n        .catch((err) => console.log(err.response));\r\n\r\n      let index = data.findIndex((item) => item.id === listId);\r\n      data.splice(index, 1);\r\n      updateList();\r\n    } else {\r\n      data.forEach((i) => {\r\n        if (i.id === listId) {\r\n          axios\r\n            .patch(\r\n              `https://todoo.5xcamp.us/todos/${listId}/toggle`,\r\n              {},\r\n              {\r\n                headers: {\r\n                  Authorization: localStorage.token,\r\n                },\r\n              }\r\n            )\r\n            .then((res) => {\r\n              data.forEach((item, index) => {\r\n                if (item.id === res.data.id) {\r\n                  data[index].completed_at = res.data.completed_at;\r\n                }\r\n              });\r\n              updateList();\r\n            })\r\n            .catch((err) => console.log(err));\r\n        }\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\n\r\n// 切換畫面\r\n\r\nconst tab = document.querySelector(\".tab\");\r\nlet tabStatus = \"all\";\r\nif (tab) {\r\n  tab.addEventListener(\"click\", function (e) {\r\n    tabStatus = e.target.dataset.status;\r\n    let tabs = document.querySelectorAll(\".tab li\");\r\n    tabs.forEach((i) => {\r\n      i.classList.remove(\"tabs-active\");\r\n    });\r\n    e.target.classList.add(\"tabs-active\");\r\n    updateList();\r\n  });\r\n}\r\n\r\nlet undoNum = document.querySelector(\".undo-num\");\r\n\r\nfunction updateList() {\r\n  let showData = [];\r\n\r\n  if (tabStatus === \"all\") {\r\n    showData = data;\r\n  } else if (tabStatus === \"undo\") {\r\n    showData = data.filter((i) => i.completed_at === null);\r\n  } else if (tabStatus === \"done\") {\r\n    showData = data.filter((i) => i.completed_at !== null);\r\n  }\r\n\r\n  let todoLength = data.filter((i) => i.completed_at === null);\r\n  let str = `${todoLength.length} 個待完成項目`;\r\n  undoNum.innerHTML = str;\r\n\r\n  renderData(showData);\r\n}\r\n\r\n// 清除完成項目\r\nconst clearAll = document.querySelector(\".clear-all\");\r\nif (clearAll) {\r\n  clearAll.addEventListener(\"click\", function (e) {\r\n    e.preventDefault();\r\n    let deleteData = data.filter(i=> i.completed_at !== null);\r\n    deleteData.forEach(i=>{\r\n      axios\r\n        .delete(`https://todoo.5xcamp.us/todos/${i.id}`, {\r\n          headers: {\r\n            Authorization: localStorage.token,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          Swal.fire(\r\n            `已清除代辦`,\r\n             \"恭喜完成啦\", \r\n             \"success\"\r\n             )\r\n        })\r\n        .catch((err) => console.log(err.response));\r\n    })\r\n\r\n    \r\n\r\n    data = data.filter((i) => i.completed_at === null);\r\n    updateList();\r\n  });\r\n}\r\n\r\nfunction removeAll() {\r\n  if (data.length === 0) {\r\n    listBlock.setAttribute(\"class\", \"d-none\");\r\n    nonList.removeAttribute(\"class\", \"d-none\");\r\n  }\r\n}\r\n\r\n\r\n\r\n// 登出\r\n\r\nconst logoutBtn = document.querySelector('.logoutBtn');\r\nif(logoutBtn){\r\n  logoutBtn.addEventListener('click',function(e){\r\n    e.preventDefault();\r\n    axios\r\n          .delete(\"https://todoo.5xcamp.us/users/sign_out\", {\r\n            headers: {\r\n              Authorization: localStorage.token,\r\n            },\r\n          })\r\n          .then((res) => {\r\n            Swal.fire(\r\n              `${res.data.message}`,\r\n               \"明天見😚\", \r\n               \"success\"\r\n               ).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  window.location.assign(\"index.html\");\r\n                }\r\n              })\r\n           \r\n          })\r\n          .catch((err) => console.log(err.response));\r\n  })\r\n}\r\n","const loginAccount = document.getElementById(\"accountEmail\");\r\nconst loginPwd = document.getElementById(\"login-password\");\r\nconst loginBtn = document.querySelector(\".login\");\r\nlet token = \"\";\r\nif (loginBtn) {\r\n  loginBtn.addEventListener(\"click\", function (e) {\r\n    if (loginAccount.value.trim() == \"\" || loginPwd.value.trim() == \"\") {\r\n      Swal.fire(\"帳號密碼不可空白\", \"再次一次吧😚\", \"warning\");\r\n      return;\r\n    }\r\n\r\n    let obj = {};\r\n    obj.email = loginAccount.value;\r\n    obj.password = loginPwd.value;\r\n    axios\r\n      .post(\"https://todoo.5xcamp.us/users/sign_in\", {\r\n        user: obj,\r\n      })\r\n      .then((res) => {\r\n        token = res.headers.authorization;\r\n        localStorage.setItem(\"token\", token);\r\n        let loginUser = res.data.nickname;\r\n        localStorage.setItem(\"username\", loginUser);\r\n        Swal.fire(`${res.data.message}`, `歡迎${loginUser}😚`, \"success\").then((result) => {\r\n          if (result.isConfirmed) {\r\n            window.location.assign(\"list.html\");\r\n          }\r\n        })\r\n       \r\n      })\r\n      .catch((err) => {\r\n        Swal.fire(`${err.response.data.message}`, \"再次一次吧😚\", \"warning\");\r\n        // alert(err.response.data.message);\r\n      });\r\n  });\r\n}\r\n","const accountInput = document.getElementById(\"signupEmail\");\r\nconst nickname = document.getElementById(\"name\");\r\nconst pwd = document.getElementById(\"password\");\r\nconst pwdDoubleCheck = document.getElementById(\"passwordDoubleCheck\");\r\nconst signUpBtn = document.querySelector(\".sign-up\");\r\n\r\nif (signUpBtn) {\r\n  signUpBtn.addEventListener(\"click\", function (e) {\r\n    if (\r\n      accountInput.value.trim() == \"\" ||\r\n      pwd.value.trim() == \"\" ||\r\n      pwdDoubleCheck.value.trim() == \"\"\r\n    ) {\r\n      Swal.fire(\r\n        '帳號密碼不可空白',\r\n        \"請輸入帳號密碼😚\",\r\n        'warning'\r\n      )\r\n      return;\r\n    }\r\n    if (pwd.value.length < 6) {\r\n      Swal.fire(\r\n        '密碼輸入錯誤',\r\n        \"密碼須超過6個字元😚\",\r\n        'warning'\r\n      )\r\n      return;\r\n    }\r\n    if (pwd.value !== pwdDoubleCheck.value) {\r\n      Swal.fire(\r\n        '兩次密碼不相符',\r\n        \"請再次確認😚\",\r\n        'warning'\r\n      )\r\n      return;\r\n    }\r\n    let obj = {};\r\n    obj.email = accountInput.value;\r\n    obj.nickname = nickname.value;\r\n    obj.password = pwd.value;\r\n    \r\n\r\n    axios\r\n      .post(\"https://todoo.5xcamp.us/users\", {\r\n        user: obj,\r\n      })\r\n      .then((res) => {\r\n        Swal.fire(\r\n          `${res.data.message}`,\r\n          \"😚\",\r\n          'success'\r\n        ).then((result) => {\r\n          if (result.isConfirmed) {\r\n            window.location.assign(\"index.html\");\r\n          }\r\n        })\r\n      })\r\n      .catch((err) => {\r\n        Swal.fire(\r\n          `${err.response.data.error}`,\r\n          \"再次一次吧😚\",\r\n          'warning'\r\n        )\r\n      });\r\n  });\r\n}\r\n"]}